# 1 - e2e: End to end

**Test funcionales:**

Controlan los navegadores y simulan el comportamiento del usuario en ellos: hacer clic, escribir, desplazarse, etc.

Las pruebas aseguran que determinados escenarios realmente funcionen desde el punto de vista de un usuario final.

---

## Tools

- [Cypress](https://www.cypress.io/)

### Alternatives

- [Puppeteer](https://pptr.dev/)

- [Protractor](http://www.protractortest.org/#/)

---

## Install and config

```bash
npm i -D cypress
yarn add -D cypress
```

```json
// package.json
{
  "e2e:open" : "cypress open",
  "e2e:run" : "cypress run"
}
// cypress.json
{
  "baseUrl": "http://bitademy.com/",
  "blacklistHosts": "www.google-analytics.com",
}
```

---

## Integration tests

`cypress/integration/behavior_name/page.spec.js`

```js
// FEATURE:     the app should have a well formed html
// As a:        visitor
// I want to:   view the title of the page
// In order to: have feedback
describe('GIVEN: the url https://bitademy.com', () => {
  const sutUrl = 'https://bitademy.com';// Arrange
  context('WHEN: I visit it', () => {
    before(() => {
      cy.visit(sutUrl);// Act
    });
    it('THEN: should have _bitAdemy_ on the Title', () => {
      cy.title().should('include', 'bitAdemy');//Assert
    });
  });
});
```
---

## Selection, interaction and navigation

```js
// FEATURE:     the app should tyake me to clean code page
// As a:        visitor
// I want to:   navigate to the clean code course
// In order to: get more info
describe('GIVEN: the url https://bitademy.com', () => {
  context('WHEN: I visit it', () => {
    before(() => {
      const sutUrl = 'https://bitademy.com';// Arrange
      cy.visit(sutUrl);
      cy.get("#first > div > ul:nth-child(2) > li:nth-child(1) > a").as("a_clean_code");
      cy.get("@a_clean_code").click();// Act
    });
    it('THEN: should have _bitAdemy_ on the Title', () => {
      cy.location().should((loc) => expect(loc.pathname).to.eq('/clean-code/'))//Assert
    });
  });
});
```
---

## 游닇 Laboratorio

### Todo el c칩digo mostrado va acompa침ado de sus tests.

https://github.com/LabsAdemy/WebTesting_e2e_Labs

> "La verdad s칩lo se encuentra en un lugar: el c칩digo"
>
> -- 九꽲잺 **Robert C. Martin**

---